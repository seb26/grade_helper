<!doctype html>
<html>
  <head>
    <title>Grade Helper â€“ v1.1</title>
    <link rel="stylesheet" href="./resources/bootstrap-5.3.2-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="container">
      <div class="row">
        <h1>Grade Helper</h1>
        <h5>v1.1 &ndash; Requires Google Chrome.</h5>
      </div>
      <div class="row">
        <!-- INPUT OCN CLIPS -->
        <div class="col section app_input_ocn">
          <h3>Add clips</h3>
          <p>Add list of original camera negative (OCN) clips.</p>
          <div class="container">
            <div class="row">
              <div class="col-12 input input_ocn">
                <div id="app_input_ocn_droparea" class="droparea">
                  <form data-contenttype="ocn">
                    <input type="file" class="form-control" id="app_input_ocn_filepicker" data-contenttype="ocn" multiple>
                    <label for="app_input_ocn_filepicker" class="form-label">
                      <div>Drag & drop. Accepted file types: <span class="badge rounded-pill text-bg-light">ALE</span>
                        <span class="badge rounded-pill text-bg-light">CSV</span>
                      </div>
                    </label>
                    <div class="alert alert-warning input_file_warning" role="alert" id="app_input_ocn_warning" style="display:none;"></div>
                  </form>
                </div>
                <div class="input_ocn_filelist">
                  <ul class="list-group filelist_group" id="app_input_ocn_filelist"></ul>
                </div>
                <div class="filelist_toolbuttons">
                  <span id="app_input_ocn_filelist_count" class="">0 files</span> &ndash; <span id="app_input_ocn_filelist_removeall" class="link-primary cursor-hover" data-contenttype="ocn">Remove all</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- INPUT GRADES -->
        <div class="col section app_input_grades">
          <h3>Add colour grades</h3>
          <p>Add colour grades containing ASC SOP and SAT values.</p>
          <div class="container">
            <div class="row">
              <div class="col-12 input input_grades">
                <div id="app_input_grades_droparea" class="droparea">
                  <form data-contenttype="grades">
                    <input type="file" class="form-control" id="app_input_grades_filepicker" data-contenttype="grades" multiple>
                    <div class="alert alert-warning input_file_warning" role="alert" id="app_input_grades_warning" style="display:none;"></div>
                    <label for="app_input_grades_filepicker" class="form-label">
                      <div>Drag & drop. Accepted file types: <span class="badge rounded-pill text-bg-light">EDL</span>
                        <span class="badge rounded-pill text-bg-light">CCC</span>
                        <span class="badge rounded-pill text-bg-light">CDL</span>
                        <span class="badge rounded-pill text-bg-light">CSV</span>
                      </div>
                    </label>
                  </form>
                </div>
                <div class="filelist">
                  <ul class="filelist_group" id="app_input_grades_filelist"></ul>
                </div>
                <div class="filelist_toolbuttons">
                  <span id="app_input_grades_filelist_count" class="">0 files</span> &ndash; <span id="app_input_grades_filelist_removeall" class="link-primary cursor-hover" data-contenttype="grades">Remove all</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row my-2">
      <div class="col section app_match_grades">
        <div id="app_match_btn_match_auto" class="btn btn-primary">Auto match</div>
        <div id="app_match_btn_match_clear_all" class="btn btn-outline-secondary">Clear</div>
      </div>
    </div>
    <div class="container">
      <div class="row g-3 mt-2">
        <div class="col-12 section items" id="ocn_clips_section">
          <h3>Clip table
            <div class="float-end">
              <span id="app_ocn_clips_statusinfo"></span>
              <span>&nbsp;|&nbsp;</span>
              <span id="app_match_statusinfo_count_of_matched_grades"></span>
            </div>
          </h3>
          <div class="items_table_wrapper">
            <table class="table items_table" id="app_ocn_clips_table">
              <thead>
                <tr>
                  <th class="col-plain">Name</th>
                  <th class="col-plain">Duration</th>
                  <th class="col-plain">Start TC</th>
                  <th class="col-graded"></th>
                  <th class="col-graded">Matched grade</th>
                  <th class="col-graded">Scene</th>
                  <th class="col-graded">Take</th>
                  <th class="col-graded">SOP</th>
                  <th class="col-graded">SAT</th>
                </tr>
              </thead>
              <tbody id="app_ocn_clips_tbody"></tbody>
            </table>
          </div>
        </div>
        <div class="col-12 section items" id="grades_section">
          <h3>Imported grades <div class="float-end" id="app_grades_statusinfo"></div>
          </h3>
          <div class="items_table_wrapper">
            <table class="table items_table" id="app_grades_table">
              <thead>
                <tr>
                  <th class="col-graded">Grade name</th>
                  <th class="col-plain">Start TC</th>
                  <th class="col-plain">Scene</th>
                  <th class="col-plain">Take</th>
                  <th class="col-plain">SOP</th>
                  <th class="col-plain">SAT</th>
                </tr>
              </thead>
              <tbody id="app_grades_tbody"></tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="row export my-3">
        <div class="col section">
          <div class="row">
            <div class="col">
              <h3 class="mb-3">Export
              <div class="btn-group app_output_items_type_buttons" role="group">
                <input type="radio" class="btn-check" name="app_output_items_type_button" id="app_output_items_type_ocn_clips" data-inputtype="clips" autocomplete="off" checked>
                <label class="btn btn-outline-primary" for="app_output_items_type_ocn_clips">Clip table</label>
                <input type="radio" class="btn-check" name="app_output_items_type_button" id="app_output_items_type_grades" data-inputtype="grades" autocomplete="off">
                <label class="btn btn-outline-primary" for="app_output_items_type_grades">Grades only</label>
              </div>
            </h3>
              <div class="row g-3 align-items-center">
                <div class="col-1-5">
                  <label for="app_output_filename" class="form-text">Filename prefix</label>
                </div>
                <div class="col-6">
                  <input class="form-control" type="text" id="app_output_filename">
                </div>
              </div>
            </div>
          </div>
          <div class="row my-3">
            <div class="col-1-5">
              <label class="form-text">Download</label>
            </div>
            <div class="col-6 d-flex export_buttons">
              <div class="btn btn-outline-primary app_output_btn" data-inputtypes="clips,grades" data-outputfiletype="ccc">CCC</div>
              <div class="btn btn-outline-primary app_output_btn" data-inputtypes="clips,grades" data-outputfiletype="cdl-multiple">CDLs</div>
              <div class="btn btn-outline-primary app_output_btn" data-inputtypes="clips,grades" data-outputfiletype="cdl-single">CDL (single)</div>
              <div class="btn btn-outline-primary app_output_btn" data-inputtypes="clips" data-outputfiletype="edl">EDL</div>
              <div class="btn btn-outline-primary app_output_btn" data-inputtypes="clips" data-outputfiletype="edl+ccc">EDL + CCC</div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col section log">
          <h3>Log</h3>
          <div class="log-output" id="app_log_output"></div>
        </div>
      </div>
    </div>
    <script type="text/javascript" src="../lib/uuidv4.min.js"></script>
    <script type="text/javascript" src="../lib/papaparse.min.js"></script>
    <script type="text/javascript" src="../lib/timecode.js"></script>
    <script type="text/javascript" src="../lib/cdl.js"></script>
    <script type="text/javascript" src="../lib/ale.js"></script>
    <script type="text/javascript" src="../lib/edl.js"></script>
    <script type="text/javascript" src="resources/bootstrap-5.3.2-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="grade_helper.js"></script>
  </body>
</html>